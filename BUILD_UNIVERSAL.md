# üçé –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è Mac (Intel + Apple Silicon)

## üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞:
- ‚úÖ **Intel Mac** (x86_64)
- ‚úÖ **Apple Silicon Mac** (M1/M2/M3, arm64)
- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (Universal Binary)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. **macOS —Å Xcode Command Line Tools**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Xcode Command Line Tools
xcode-select --install
```

### 2. **Python —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π universal2**
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
python -c "import platform; print(platform.machine())"

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: arm64 –∏–ª–∏ x86_64
```

### 3. **PyInstaller —Å universal2 –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π**
```bash
pip install --upgrade pyinstaller
```

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–±:
```bash
python build_universal.py
```

### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±:
```bash
# –û—á–∏—Å—Ç–∫–∞
rm -rf dist build

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
pyinstaller --onedir --windowed --name "SurveyApp" --icon="favicon.ico" --target-arch universal2 survey_app_pyqt.py
```

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ:
- `dist/SurveyApp.app` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `dist/install.sh` - —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- `dist/SurveyApp.dmg` - DMG –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
file dist/SurveyApp.app/Contents/MacOS/SurveyApp

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
# Mach-O universal binary with 2 architectures: [arm64:Mach-O 64-bit executable arm64] [x86_64:Mach-O 64-bit executable x86_64]
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö Mac:
```bash
# –ù–∞ Intel Mac
uname -m  # –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: x86_64

# –ù–∞ Apple Silicon Mac  
uname -m  # –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: arm64
```

## üöÄ –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cp -R dist/SurveyApp.app /Applications/

# –ó–∞–ø—É—Å–∫–∞–µ–º
open /Applications/SurveyApp.app
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: DMG —Ñ–∞–π–ª
```bash
# –°–æ–∑–¥–∞–µ–º DMG
hdiutil create -volname "SurveyApp" -srcfolder dist/SurveyApp.app -ov -format UDZO dist/SurveyApp.dmg

# –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ–º DMG —Ñ–∞–π–ª
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
cd dist
./install.sh
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "target-arch universal2 not supported"
```bash
# –û–±–Ω–æ–≤–∏—Ç–µ PyInstaller
pip install --upgrade pyinstaller

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é Python
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Architecture not supported"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é macOS
sw_vers

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Xcode Command Line Tools —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
xcode-select -p
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ Intel Mac
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
lipo -info dist/SurveyApp.app/Contents/MacOS/SurveyApp

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: Architectures in the fat file: arm64 x86_64
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤

| –¢–∏–ø —Å–±–æ—Ä–∫–∏ | –†–∞–∑–º–µ—Ä | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
|------------|--------|---------------|
| Intel only | ~15MB | –¢–æ–ª—å–∫–æ Intel Mac |
| Apple Silicon only | ~15MB | –¢–æ–ª—å–∫–æ Apple Silicon |
| Universal Binary | ~30MB | Intel + Apple Silicon |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--onedir` –≤–º–µ—Å—Ç–æ `--onefile` –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –æ–±–µ–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ DMG –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è

### –î–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è:
- DMG —Ñ–∞–π–ª - –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞ Intel Mac:
```bash
# –ó–∞–ø—É—Å–∫
open dist/SurveyApp.app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
arch -x86_64 python -c "import platform; print(platform.machine())"
```

### –ù–∞ Apple Silicon Mac:
```bash
# –ó–∞–ø—É—Å–∫
open dist/SurveyApp.app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
arch -arm64 python -c "import platform; print(platform.machine())"
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Universal Binary —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ ~2 —Ä–∞–∑–∞
- –ù–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

---

**–ê–≤—Ç–æ—Ä**: ASRR Team  
**–í–µ—Ä—Å–∏—è**: 1.0.0


